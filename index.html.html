<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Agro Sevak – Farmer's AI Doctor</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #2e7d32;
      --primary-dark: #1b5e20;
      --primary-light: #81c784;
      --secondary: #ff9800;
      --dark: #263238;
      --light: #f5f5f5;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.2);
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f5f7fa;
      color: var(--dark);
      min-height: 100vh;
      overflow-x: hidden;
      background-image: url('https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
      background-blend-mode: overlay;
      background-color: rgba(245, 247, 250, 0.9);
    }

    /* Navigation */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(255, 255, 255, 0.95);
      padding: 15px 5%;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .navbar.scrolled {
      padding: 10px 5%;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .logo {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary-dark);
      display: flex;
      align-items: center;
      gap: 10px;
      transition: var(--transition);
    }

    .logo-icon {
      font-size: 32px;
      color: var(--primary);
      transition: var(--transition);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 25px;
    }

    .nav-links a {
      color: var(--dark);
      text-decoration: none;
      font-weight: 500;
      position: relative;
      padding: 5px 0;
      transition: var(--transition);
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: var(--transition);
    }

    .nav-links a:hover {
      color: var(--primary);
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-btn {
      padding: 10px 20px;
      border-radius: 30px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      border: none;
      box-shadow: var(--shadow);
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      box-shadow: var(--shadow-hover);
      transform: translateY(-2px);
    }

    .btn-outline {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-outline:hover {
      background: var(--primary);
      color: white;
      box-shadow: var(--shadow-hover);
      transform: translateY(-2px);
    }

    /* Settings Panel */
    .settings-panel {
      position: fixed;
      top: 0;
      right: -400px;
      width: 350px;
      height: 100vh;
      background: white;
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
      z-index: 1050;
      transition: right 0.3s ease;
      padding: 20px;
      overflow-y: auto;
    }

    .settings-panel.active {
      right: 0;
    }

    .settings-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }

    .settings-header h3 {
      font-size: 1.5rem;
      color: var(--primary-dark);
    }

    .settings-close {
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
      transition: var(--transition);
    }

    .settings-close:hover {
      transform: rotate(90deg);
      color: var(--primary);
    }

    .settings-group {
      margin-bottom: 25px;
    }

    .settings-group h4 {
      margin-bottom: 15px;
      color: var(--primary-dark);
    }

    .settings-option {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .settings-option label {
      font-size: 0.9rem;
      color: #555;
    }

    .settings-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1040;
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .settings-overlay.active {
      display: block;
      opacity: 1;
    }

    /* Hero Section */
    .hero {
      height: 100vh;
      display: flex;
      align-items: center;
      padding: 0 5%;
      position: relative;
      margin-top: 70px;
      animation: fadeIn 1s ease-out;
    }

    .hero-content {
      max-width: 600px;
      background: rgba(255, 255, 255, 0.95);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      transform: translateY(20px);
      opacity: 0;
      animation: slideUp 0.8s ease-out forwards 0.3s;
    }

    .hero h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--primary-dark);
      line-height: 1.2;
    }

    .hero p {
      font-size: 1.1rem;
      margin-bottom: 30px;
      color: var(--dark);
      line-height: 1.6;
    }

    .hero-btns {
      display: flex;
      gap: 15px;
    }

    /* Features Section */
    .features {
      padding: 100px 5%;
      background: rgba(255, 255, 255, 0.95);
      position: relative;
    }

    .section-title {
      text-align: center;
      margin-bottom: 60px;
      position: relative;
    }

    .section-title h2 {
      font-size: 2.5rem;
      color: var(--primary-dark);
      margin-bottom: 15px;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: var(--primary);
      border-radius: 2px;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .feature-card {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      transform: translateY(20px);
      opacity: 0;
    }

    .feature-card.animated {
      transform: translateY(0);
      opacity: 1;
    }

    .feature-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: var(--shadow-hover);
    }

    .feature-icon {
      font-size: 3rem;
      color: var(--primary);
      margin-bottom: 20px;
      transition: var(--transition);
    }

    .feature-card:hover .feature-icon {
      transform: scale(1.1);
      color: var(--primary-dark);
    }

    .feature-card h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: var(--primary-dark);
    }

    .feature-card p {
      color: #666;
      line-height: 1.6;
    }

    /* About Section */
    .about {
      padding: 100px 5%;
      background: rgba(245, 247, 250, 0.95);
      position: relative;
    }

    .about-content {
      display: flex;
      align-items: center;
      gap: 50px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .about-text {
      flex: 1;
      transform: translateX(-20px);
      opacity: 0;
      transition: all 0.6s ease;
    }

    .about-text.animated {
      transform: translateX(0);
      opacity: 1;
    }

    .about-image {
      flex: 1;
      position: relative;
      transform: translateX(20px);
      opacity: 0;
      transition: all 0.6s ease;
    }

    .about-image.animated {
      transform: translateX(0);
      opacity: 1;
    }

    .about-image img {
      width: 100%;
      border-radius: 15px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .about-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 40px;
    }

    .stat-item {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .stat-item:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-hover);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 0.9rem;
      color: #666;
    }

    /* Main Content */
    main {
      padding: 80px 5%;
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
      position: relative;
      z-index: 10;
      transform: translateY(20px);
      opacity: 0;
      transition: all 0.6s ease;
    }

    main.animated {
      transform: translateY(0);
      opacity: 1;
    }

    .tool-section {
      margin-bottom: 50px;
    }

    .tool-section h2 {
      font-size: 1.8rem;
      color: var(--primary-dark);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--primary-light);
    }

    .tool-btn {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      margin: 15px 0;
      padding: 18px 25px;
      font-size: 1.1rem;
      border: none;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      cursor: pointer;
      border-radius: 10px;
      transition: var(--transition);
      box-shadow: var(--shadow);
    }

    .tool-btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-hover);
      background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
    }

    .tool-btn i {
      font-size: 1.3rem;
      transition: var(--transition);
    }

    .tool-btn:hover i {
      transform: translateX(5px);
    }

    .output {
      margin-top: 10px;
      padding: 20px;
      background: rgba(129, 199, 132, 0.1);
      border-left: 5px solid var(--primary);
      color: var(--dark);
      border-radius: 0 8px 8px 0;
      transition: all 0.3s ease;
    }

    .output.loading {
      background: rgba(129, 199, 132, 0.2);
    }

    .image-preview-container {
      margin-top: 20px;
      text-align: center;
    }

    .image-preview {
      max-height: 300px;
      border-radius: 10px;
      box-shadow: var(--shadow);
      display: none;
      margin: 0 auto;
      transition: all 0.3s ease;
    }

    .image-preview:hover {
      transform: scale(1.02);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
    }

    /* Footer */
    footer {
      background: var(--dark);
      color: white;
      text-align: center;
      padding: 40px 5%;
      position: relative;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      text-align: left;
    }

    .footer-column h3 {
      font-size: 1.3rem;
      margin-bottom: 20px;
      color: var(--primary-light);
    }

    .footer-column ul {
      list-style: none;
    }

    .footer-column ul li {
      margin-bottom: 10px;
      transition: var(--transition);
    }

    .footer-column ul li:hover {
      transform: translateX(5px);
    }

    .footer-column ul li a {
      color: #ccc;
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-column ul li a:hover {
      color: white;
    }

    .social-links {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }

    .social-links a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      color: white;
      transition: var(--transition);
    }

    .social-links a:hover {
      background: var(--primary);
      transform: translateY(-3px);
    }

    .copyright {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: #aaa;
      font-size: 0.9rem;
    }

    /* Auth Modal */
    .auth-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1100;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .auth-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .auth-container {
      background: white;
      padding: 30px;
      border-radius: 10px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transform: translateY(-20px);
      transition: all 0.3s ease;
    }

    .auth-modal.active .auth-container {
      transform: translateY(0);
    }

    .auth-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .auth-header h2 {
      color: var(--primary-dark);
      margin: 0;
    }

    .auth-close {
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
      transition: var(--transition);
    }

    .auth-close:hover {
      color: var(--primary);
      transform: rotate(90deg);
    }

    .auth-form input {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
      transition: var(--transition);
    }

    .auth-form input:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
    }

    .auth-form button {
      width: 100%;
      padding: 12px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .auth-form button:hover {
      background: var(--primary-dark);
    }

    .auth-switch {
      text-align: center;
      margin-top: 15px;
      color: #666;
    }

    .auth-switch a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
    }

    .auth-switch a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }

    /* Location Modal */
    .location-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1100;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .location-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .location-container {
      background: white;
      padding: 30px;
      border-radius: 10px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transform: translateY(-20px);
      transition: all 0.3s ease;
    }

    .location-modal.active .location-container {
      transform: translateY(0);
    }

    .location-container h3 {
      color: var(--primary-dark);
      margin-bottom: 20px;
      text-align: center;
    }

    .location-form label {
      display: block;
      margin-bottom: 8px;
      color: #555;
      font-weight: 500;
    }

    .location-form select,
    .location-form input {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 20px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
      transition: var(--transition);
    }

    .location-form select:focus,
    .location-form input:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
    }

    .location-btns {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }

    .location-btns button {
      flex: 1;
      padding: 12px;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
    }

    /* User Profile */
    .user-profile {
      display: none;
      align-items: center;
      gap: 10px;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }

    .user-avatar:hover {
      background: var(--primary-dark);
      transform: scale(1.05);
    }

    .user-name {
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
    }

    .user-name:hover {
      color: var(--primary);
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { 
        transform: translateY(20px);
        opacity: 0;
      }
      to { 
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero-content {
        padding: 30px 20px;
      }
      
      .hero-btns {
        flex-direction: column;
      }
      
      .section-title h2 {
        font-size: 2rem;
      }
      
      .settings-panel {
        width: 300px;
      }

      .about-content {
        flex-direction: column;
      }

      .about-text, .about-image {
        flex: none;
        width: 100%;
      }

      .about-stats {
        grid-template-columns: 1fr;
      }

      .nav-links {
        gap: 15px;
      }

      .nav-btn {
        padding: 8px 15px;
        font-size: 0.9rem;
      }
    }

    @media (max-width: 576px) {
      .navbar {
        flex-direction: column;
        padding: 15px;
      }

      .nav-links {
        margin-top: 15px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .auth-container, .location-container {
        padding: 20px;
        margin: 15px;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <!-- Settings Panel -->
  <div class="settings-overlay" id="settingsOverlay"></div>
  <div class="settings-panel" id="settingsPanel">
    <div class="settings-header">
      <h3 class="settings-title">Settings</h3>
      <i class="fas fa-times settings-close" onclick="toggleSettings()"></i>
    </div>
    
    <div class="settings-group">
      <h4>Language</h4>
      <div class="settings-option">
        <label for="languageSelect">Select Language:</label>
        <select id="languageSelect" class="settings-select" onchange="changeLanguage(this.value)">
          <option value="en">English</option>
          <option value="hi">हिंदी (Hindi)</option>
          <option value="mr">मराठी (Marathi)</option>
          <option value="gu">ગુજરાતી (Gujarati)</option>
          <option value="ta">தமிழ் (Tamil)</option>
          <option value="te">తెలుగు (Telugu)</option>
          <option value="kn">ಕನ್ನಡ (Kannada)</option>
          <option value="ml">മലയാളം (Malayalam)</option>
        </select>
      </div>
    </div>
    
    <div class="settings-group">
      <h4>Appearance</h4>
      <div class="settings-option">
        <label for="themeSelect">Theme:</label>
        <select id="themeSelect" class="settings-select">
          <option value="light">Light</option>
          <option value="dark">Dark</option>
          <option value="system">System Default</option>
        </select>
      </div>
      <div class="settings-option">
        <label for="fontSize">Font Size:</label>
        <select id="fontSize" class="settings-select">
          <option value="small">Small</option>
          <option value="medium" selected>Medium</option>
          <option value="large">Large</option>
        </select>
      </div>
    </div>
    
    <div class="settings-group">
      <h4>Notifications</h4>
      <div class="settings-option">
        <label for="notifications">Enable Notifications:</label>
        <input type="checkbox" id="notifications" checked>
      </div>
      <div class="settings-option">
        <label for="notificationSound">Notification Sound:</label>
        <input type="checkbox" id="notificationSound" checked>
      </div>
    </div>
    
    <button class="btn-primary" style="width: 100%; margin-top: 20px;" onclick="saveSettings()">
      Save Settings
    </button>
  </div>

  <!-- Navigation -->
  <nav class="navbar" id="navbar">
    <div class="logo">
      <i class="fas fa-leaf logo-icon"></i>
      <span class="translate" data-key="appName">Agro Sevak</span>
    </div>
    
    <div class="nav-links" id="navLinks">
      <a href="#features" class="translate" data-key="features">Features</a>
      <a href="#about" class="translate" data-key="about">About</a>
      <a href="#tools" class="translate" data-key="tools">Tools</a>
      <a href="#contact" class="translate" data-key="contact">Contact</a>
      
      <button class="btn-outline" onclick="toggleSettings()">
        <i class="fas fa-cog"></i> <span class="translate" data-key="settings">Settings</span>
      </button>
      
      <div id="authButtons">
        <button class="btn-outline" onclick="showAuthModal('login')">
          <span class="translate" data-key="login">Login</span>
        </button>
        <button class="btn-primary" onclick="showAuthModal('signup')">
          <span class="translate" data-key="signup">Sign Up</span>
        </button>
      </div>
      
      <div class="user-profile" id="userProfile">
        <div class="user-avatar" id="userAvatar"></div>
        <span class="user-name" id="userName"></span>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1 class="translate" data-key="heroTitle">AI-Powered Agricultural Assistant for Modern Farmers</h1>
      <p class="translate" data-key="heroText">Agro Sevak combines cutting-edge technology with agricultural expertise to help you maximize your crop yield and minimize risks.</p>
      <div class="hero-btns">
        <button class="btn-primary pulse" onclick="showAuthModal('signup')">
          <i class="fas fa-user-plus"></i> <span class="translate" data-key="getStarted">Get Started</span>
        </button>
        <button class="btn-outline" onclick="document.querySelector('#tools').scrollIntoView({ behavior: 'smooth' })">
          <i class="fas fa-tools"></i> <span class="translate" data-key="exploreTools">Explore Tools</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features" id="features">
    <div class="section-title">
      <h2 class="translate" data-key="whyChoose">Why Choose Agro Sevak?</h2>
    </div>
    
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-robot"></i>
        </div>
        <h3 class="translate" data-key="feature1Title">AI Disease Detection</h3>
        <p class="translate" data-key="feature1Text">Our advanced machine learning models can identify plant diseases with over 95% accuracy just from a photo of your crop.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-cloud-sun-rain"></i>
        </div>
        <h3 class="translate" data-key="feature2Title">Smart Weather Alerts</h3>
        <p class="translate" data-key="feature2Text">Get hyper-local weather forecasts and alerts tailored to your specific crops and location.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-rupee-sign"></i>
        </div>
        <h3 class="translate" data-key="feature3Title">Real-time Market Prices</h3>
        <p class="translate" data-key="feature3Text">Access up-to-date mandi prices across India to get the best value for your produce.</p>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="about" id="about">
    <div class="section-title">
      <h2 class="translate" data-key="aboutUs">About Agro Sevak</h2>
    </div>
    
    <div class="about-content">
      <div class="about-text">
        <h3 class="translate" data-key="ourMission">Our Mission</h3>
        <p class="translate" data-key="missionText">Agro Sevak was founded with a simple mission: to empower farmers with technology that helps them make better decisions, increase yields, and improve their livelihoods. We believe that every farmer deserves access to the best agricultural knowledge and tools.</p>
        
        <h3 style="margin-top: 20px;" class="translate" data-key="ourTechnology">Our Technology</h3>
        <p class="translate" data-key="technologyText">Using artificial intelligence, machine learning, and satellite data, we provide personalized recommendations for crop management, disease prevention, and optimal harvesting times. Our platform is designed specifically for Indian farming conditions.</p>
        
        <div class="about-stats">
          <div class="stat-item">
            <div class="stat-number">10,000+</div>
            <div class="stat-label translate" data-key="farmersServed">Farmers Served</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">95%</div>
            <div class="stat-label translate" data-key="accuracyRate">Disease Detection Accuracy</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">24/7</div>
            <div class="stat-label translate" data-key="supportAvailable">Support Available</div>
          </div>
        </div>
      </div>
      
      <div class="about-image">
        <img src="https://images.unsplash.com/photo-1586771107445-d3ca888129ce?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Farmers using Agro Sevak">
      </div>
    </div>
  </section>

  <!-- Main Tools Section -->
  <main id="tools">
    <div class="tool-section">
      <h2><i class="fas fa-tools"></i> <span class="translate" data-key="agriTools">Agricultural Tools</span></h2>
      
      <input type="file" accept="image/*" id="imageInput" style="display: none;" onchange="analyzeDisease(event)">
      <button class="tool-btn" onclick="document.getElementById('imageInput').click()">
        <span><i class="fas fa-camera"></i> <span class="translate" data-key="scanLeaf">Scan Leaf (Upload Photo)</span></span>
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="image-preview-container">
        <img id="preview" class="image-preview" alt="Leaf preview">
        <div id="diseaseResult" class="disease-result" style="display: none;"></div>
      </div>
      
      <button class="tool-btn" onclick="getMandiRates()">
        <span><i class="fas fa-chart-line"></i> <span class="translate" data-key="viewMandi">View Mandi Rates</span></span>
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="output" id="mandiOutput"><span class="translate" data-key="mandiLoading">Mandi rates will be shown here...</span></div>
      
      <button class="tool-btn" onclick="getWeatherForecast()">
        <span><i class="fas fa-cloud-sun"></i> <span class="translate" data-key="getWeather">Get Weather Forecast</span></span>
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="output" id="weatherOutput"><span class="translate" data-key="weatherLoading">Weather forecast will appear here...</span></div>
      
      <button class="tool-btn" onclick="startVoiceAssistant()">
        <span><i class="fas fa-microphone"></i> <span class="translate" data-key="startVoice">Start AI Voice Assistant</span></span>
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="output" id="voiceOutput"><span class="translate" data-key="voiceLoading">Awaiting voice input...</span></div>
      
      <button class="tool-btn" onclick="showLocationModal()">
        <span><i class="fas fa-calendar-alt"></i> <span class="translate" data-key="getCalendar">Get Personalized Crop Calendar</span></span>
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="output" id="chartOutput"><span class="translate" data-key="chartLoading">Chart info will be shown here...</span></div>
      
      <button class="tool-btn" onclick="showSmartAlerts()">
        <span><i class="fas fa-bell"></i> <span class="translate" data-key="smartAlerts">Smart Alerts</span></span>
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="output" id="alertsOutput"><span class="translate" data-key="alertsLoading">Smart alerts will be shown here...</span></div>
    </div>
  </main>

  <!-- Footer -->
  <footer id="contact">
    <div class="footer-content">
      <div class="footer-column">
        <h3 class="translate" data-key="appName">Agro Sevak</h3>
        <p class="translate" data-key="footerDesc">Empowering farmers with AI technology to make informed decisions and maximize agricultural productivity.</p>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
      
      <div class="footer-column">
        <h3 class="translate" data-key="quickLinks">Quick Links</h3>
        <ul>
          <li><a href="#features" class="translate" data-key="features">Features</a></li>
          <li><a href="#about" class="translate" data-key="about">About</a></li>
          <li><a href="#tools" class="translate" data-key="tools">Tools</a></li>
          <li><a href="#contact" class="translate" data-key="contact">Contact</a></li>
          <li><a href="#" class="translate" data-key="privacy">Privacy Policy</a></li>
        </ul>
      </div>
      
      <div class="footer-column">
        <h3 class="translate" data-key="contactUs">Contact Us</h3>
        <ul>
          <li><i class="fas fa-map-marker-alt"></i> <span class="translate" data-key="address">123 Farm Road, Agri Zone, India</span></li>
          <li><i class="fas fa-phone"></i> +91 9876543210</li>
          <li><i class="fas fa-envelope"></i> support@agrosevak.com</li>
        </ul>
      </div>
    </div>
    
    <div class="copyright">
      © 2025 <span class="translate" data-key="appName">Agro Sevak</span>. <span class="translate" data-key="rightsReserved">All Rights Reserved</span>.
    </div>
  </footer>

  <!-- Location Modal -->
  <div class="location-modal" id="locationModal">
    <div class="location-container">
      <h3 class="translate" data-key="personalizeCalendar">Personalize Your Crop Calendar</h3>
      <form class="location-form" id="locationForm">
        <label for="state" class="translate" data-key="selectState">Select State:</label>
        <select id="state" required>
          <option value="">-- <span class="translate" data-key="selectState">Select State</span> --</option>
          <option value="punjab">Punjab</option>
          <option value="haryana">Haryana</option>
          <option value="up">Uttar Pradesh</option>
          <option value="mp">Madhya Pradesh</option>
          <option value="maharashtra">Maharashtra</option>
          <option value="karnataka">Karnataka</option>
          <option value="ap">Andhra Pradesh</option>
          <option value="telangana">Telangana</option>
          <option value="tamilnadu">Tamil Nadu</option>
          <option value="westbengal">West Bengal</option>
          <option value="bihar">Bihar</option>
          <option value="gujarat">Gujarat</option>
          <option value="rajasthan">Rajasthan</option>
        </select>
        
        <label for="district" class="translate" data-key="district">District:</label>
        <input type="text" id="district" placeholder="Enter your district" required>
        
        <label for="soilType" class="translate" data-key="soilType">Soil Type:</label>
        <select id="soilType" required>
          <option value="">-- <span class="translate" data-key="selectSoil">Select Soil Type</span> --</option>
          <option value="alluvial" class="translate" data-key="alluvial">Alluvial Soil</option>
          <option value="black" class="translate" data-key="blackSoil">Black Soil (Regur)</option>
          <option value="red" class="translate" data-key="redSoil">Red Soil</option>
          <option value="laterite" class="translate" data-key="laterite">Laterite Soil</option>
          <option value="mountain" class="translate" data-key="mountain">Mountain Soil</option>
          <option value="desert" class="translate" data-key="desert">Desert Soil</option>
        </select>
        
        <label for="mainCrop" class="translate" data-key="mainCrop">Main Crop:</label>
        <select id="mainCrop" required>
          <option value="">-- <span class="translate" data-key="selectCrop">Select Main Crop</span> --</option>
          <option value="wheat" class="translate" data-key="wheat">Wheat</option>
          <option value="rice" class="translate" data-key="rice">Rice</option>
          <option value="maize" class="translate" data-key="maize">Maize</option>
          <option value="sugarcane" class="translate" data-key="sugarcane">Sugarcane</option>
          <option value="cotton" class="translate" data-key="cotton">Cotton</option>
          <option value="soybean" class="translate" data-key="soybean">Soybean</option>
          <option value="pulses" class="translate" data-key="pulses">Pulses</option>
          <option value="oilseeds" class="translate" data-key="oilseeds">Oilseeds</option>
        </select>
        
        <div class="location-btns">
          <button type="button" class="btn-outline" onclick="hideLocationModal()">
            <span class="translate" data-key="cancel">Cancel</span>
          </button>
          <button type="button" class="btn-primary" onclick="generatePersonalizedChart()">
            <span class="translate" data-key="generateCalendar">Generate Calendar</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Auth Modal -->
  <div class="auth-modal" id="authModal">
    <div class="auth-container">
      <div class="auth-header">
        <h2 id="authTitle" class="translate" data-key="login">Login</h2>
        <span class="auth-close" onclick="hideAuthModal()">&times;</span>
      </div>
      <form class="auth-form" id="authForm" onsubmit="handleAuthSubmit(event)">
        <div id="nameField" style="display: none;">
          <input type="text" id="name" placeholder="Full Name" required>
        </div>
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Password" required>
        <div id="confirmPasswordField" style="display: none;">
          <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
        </div>
        <button type="submit" id="authSubmitBtn" class="translate" data-key="login">Login</button>
      </form>
      <div class="auth-switch">
        <span id="authSwitchText" class="translate" data-key="noAccount">Don't have an account?</span>
        <a id="authSwitchLink" onclick="switchAuthMode()" class="translate" data-key="signup">Sign up</a>
      </div>
    </div>
  </div>

  <script>
    // Translation dictionary
    const translations = {
      en: {
        appName: "Agro Sevak",
        features: "Features",
        tools: "Tools",
        about: "About",
        contact: "Contact",
        settings: "Settings",
        login: "Login",
        signup: "Sign Up",
        heroTitle: "AI-Powered Agricultural Assistant for Modern Farmers",
        heroText: "Agro Sevak combines cutting-edge technology with agricultural expertise to help you maximize your crop yield and minimize risks.",
        getStarted: "Get Started",
        exploreTools: "Explore Tools",
        whyChoose: "Why Choose Agro Sevak?",
        feature1Title: "AI Disease Detection",
        feature1Text: "Our advanced machine learning models can identify plant diseases with over 95% accuracy just from a photo of your crop.",
        feature2Title: "Smart Weather Alerts",
        feature2Text: "Get hyper-local weather forecasts and alerts tailored to your specific crops and location.",
        feature3Title: "Real-time Market Prices",
        feature3Text: "Access up-to-date mandi prices across India to get the best value for your produce.",
        aboutUs: "About Agro Sevak",
        ourMission: "Our Mission",
        missionText: "Agro Sevak was founded with a simple mission: to empower farmers with technology that helps them make better decisions, increase yields, and improve their livelihoods. We believe that every farmer deserves access to the best agricultural knowledge and tools.",
        ourTechnology: "Our Technology",
        technologyText: "Using artificial intelligence, machine learning, and satellite data, we provide personalized recommendations for crop management, disease prevention, and optimal harvesting times. Our platform is designed specifically for Indian farming conditions.",
        farmersServed: "Farmers Served",
        accuracyRate: "Disease Detection Accuracy",
        supportAvailable: "Support Available",
        agriTools: "Agricultural Tools",
        scanLeaf: "Scan Leaf (Upload Photo)",
        viewMandi: "View Mandi Rates",
        getWeather: "Get Weather Forecast",
        startVoice: "Start AI Voice Assistant",
        getCalendar: "Get Personalized Crop Calendar",
        smartAlerts: "Smart Alerts",
        mandiLoading: "Mandi rates will be shown here...",
        weatherLoading: "Weather forecast will appear here...",
        voiceLoading: "Awaiting voice input...",
        chartLoading: "Chart info will be shown here...",
        alertsLoading: "Smart alerts will be shown here...",
        footerDesc: "Empowering farmers with AI technology to make informed decisions and maximize agricultural productivity.",
        quickLinks: "Quick Links",
        privacy: "Privacy Policy",
        contactUs: "Contact Us",
        address: "123 Farm Road, Agri Zone, India",
        rightsReserved: "All Rights Reserved",
        personalizeCalendar: "Personalize Your Crop Calendar",
        selectState: "Select State",
        district: "District",
        soilType: "Soil Type",
        selectSoil: "Select Soil Type",
        alluvial: "Alluvial Soil",
        blackSoil: "Black Soil (Regur)",
        redSoil: "Red Soil",
        laterite: "Laterite Soil",
        mountain: "Mountain Soil",
        desert: "Desert Soil",
        mainCrop: "Main Crop",
        selectCrop: "Select Main Crop",
        wheat: "Wheat",
        rice: "Rice",
        maize: "Maize",
        sugarcane: "Sugarcane",
        cotton: "Cotton",
        soybean: "Soybean",
        pulses: "Pulses",
        oilseeds: "Oilseeds",
        cancel: "Cancel",
        generateCalendar: "Generate Calendar",
        noAccount: "Don't have an account?",
        hasAccount: "Already have an account?",
        passwordMismatch: "Passwords don't match!",
        userExists: "User with this email already exists!",
        signupSuccess: "Account created successfully!",
        invalidCredentials: "Invalid email or password!",
        loginSuccess: "Login successful!",
        logoutSuccess: "Logged out successfully!",
        settingsSaved: "Settings saved successfully!"
      },
      hi: {
        appName: "एग्रो सेवक",
        features: "विशेषताएं",
        tools: "उपकरण",
        about: "हमारे बारे में",
        contact: "संपर्क करें",
        settings: "सेटिंग्स",
        login: "लॉग इन",
        signup: "साइन अप",
        heroTitle: "आधुनिक किसानों के लिए एआई-संचालित कृषि सहायक",
        heroText: "एग्रो सेवक उन्नत तकनीक और कृषि विशेषज्ञता को जोड़कर आपकी फसल की पैदावार को अधिकतम करने और जोखिमों को कम करने में मदद करता है।",
        getStarted: "शुरू करें",
        exploreTools: "उपकरण देखें",
        whyChoose: "एग्रो सेवक क्यों चुनें?",
        feature1Title: "एआई रोग पहचान",
        feature1Text: "हमारे उन्नत मशीन लर्निंग मॉडल आपकी फसल की तस्वीर से 95% से अधिक सटीकता के साथ पौधों के रोगों की पहचान कर सकते हैं।",
        feature2Title: "स्मार्ट मौसम अलर्ट",
        feature2Text: "अपनी विशिष्ट फसलों और स्थान के लिए अनुकूलित स्थानीय मौसम पूर्वानुमान और अलर्ट प्राप्त करें।",
        feature3Title: "रीयल-टाइम बाजार मूल्य",
        feature3Text: "अपनी उपज का सर्वोत्तम मूल्य प्राप्त करने के लिए पूरे भारत में अपडेटेड मंडी मूल्यों तक पहुंचें।",
        aboutUs: "एग्रो सेवक के बारे में",
        ourMission: "हमारा मिशन",
        missionText: "एग्रो सेवक एक साधारण मिशन के साथ स्थापित किया गया था: किसानों को ऐसी तकनीक से सशक्त बनाना जो उन्हें बेहतर निर्णय लेने, उपज बढ़ाने और उनकी आजीविका में सुधार करने में मदद करे। हम मानते हैं कि प्रत्येक किसान सर्वोत्तम कृषि ज्ञान और उपकरणों तक पहुंच का हकदार है।",
        ourTechnology: "हमारी तकनीक",
        technologyText: "कृत्रिम बुद्धिमत्ता, मशीन लर्निंग और उपग्रह डेटा का उपयोग करके, हम फसल प्रबंधन, रोग निवारण और इष्टतम कटाई के समय के लिए व्यक्तिगत सिफारिशें प्रदान करते हैं। हमारा प्लेटफॉर्म विशेष रूप से भारतीय कृषि परिस्थितियों के लिए डिज़ाइन किया गया है।",
        farmersServed: "किसानों की सेवा की",
        accuracyRate: "रोग पहचान सटीकता",
        supportAvailable: "समर्थन उपलब्ध",
        agriTools: "कृषि उपकरण",
        scanLeaf: "पत्ती स्कैन करें (फोटो अपलोड करें)",
        viewMandi: "मंडी दरें देखें",
        getWeather: "मौसम पूर्वानुमान प्राप्त करें",
        startVoice: "एआई वॉइस असिस्टेंट शुरू करें",
        getCalendar: "व्यक्तिगत फसल कैलेंडर प्राप्त करें",
        smartAlerts: "स्मार्ट अलर्ट",
        mandiLoading: "मंडी दरें यहां दिखाई जाएंगी...",
        weatherLoading: "मौसम पूर्वानुमान यहां दिखाई देगा...",
        voiceLoading: "वॉइस इनपुट की प्रतीक्षा...",
        chartLoading: "चार्ट जानकारी यहां दिखाई जाएगी...",
        alertsLoading: "स्मार्ट अलर्ट यहां दिखाई जाएंगे...",
        footerDesc: "किसानों को एआई तकनीक के साथ सशक्त बनाना ताकि वे सूचित निर्णय ले सकें और कृषि उत्पादकता को अधिकतम कर सकें।",
        quickLinks: "त्वरित लिंक",
        privacy: "गोपनीयता नीति",
        contactUs: "हमसे संपर्क करें",
        address: "123 फार्म रोड, कृषि क्षेत्र, भारत",
        rightsReserved: "सर्वाधिकार सुरक्षित",
        personalizeCalendar: "अपना फसल कैलेंडर व्यक्तिगत करें",
        selectState: "राज्य चुनें",
        district: "जिला",
        soilType: "मिट्टी का प्रकार",
        selectSoil: "मिट्टी का प्रकार चुनें",
        alluvial: "जलोढ़ मिट्टी",
        blackSoil: "काली मिट्टी (रेगुर)",
        redSoil: "लाल मिट्टी",
        laterite: "लेटराइट मिट्टी",
        mountain: "पर्वतीय मिट्टी",
        desert: "मरुस्थलीय मिट्टी",
        mainCrop: "मुख्य फसल",
        selectCrop: "मुख्य फसल चुनें",
        wheat: "गेहूं",
        rice: "चावल",
        maize: "मक्का",
        sugarcane: "गन्ना",
        cotton: "कपास",
        soybean: "सोयाबीन",
        pulses: "दलहन",
        oilseeds: "तिलहन",
        cancel: "रद्द करें",
        generateCalendar: "कैलेंडर जनरेट करें",
        noAccount: "खाता नहीं है?",
        hasAccount: "क्या आपके पास पहले से एक खाता मौजूद है?",
        passwordMismatch: "पासवर्ड मेल नहीं खाते!",
        userExists: "इस ईमेल के साथ उपयोगकर्ता पहले से मौजूद है!",
        signupSuccess: "खाता सफलतापूर्वक बनाया गया!",
        invalidCredentials: "अमान्य ईमेल या पासवर्ड!",
        loginSuccess: "लॉगिन सफल!",
        logoutSuccess: "सफलतापूर्वक लॉग आउट किया गया!",
        settingsSaved: "सेटिंग्स सफलतापूर्वक सहेजी गईं!"
      }
      // Other languages would be added here similarly
    };

    // Current language
    let currentLanguage = 'en';

    // Current user
    let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
    let authMode = 'login';

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      // Load saved language preference
      const savedLanguage = localStorage.getItem('languagePreference') || 'en';
      changeLanguage(savedLanguage);
      
      // Set the language dropdown to match
      document.getElementById('languageSelect').value = savedLanguage;
      
      // Add scroll event listener for animations
      window.addEventListener('scroll', handleScroll);
      
      // Initial check for elements in viewport
      handleScroll();
      
      // Navbar scroll effect
      window.addEventListener('scroll', function() {
        if (window.scrollY > 50) {
          document.getElementById('navbar').classList.add('scrolled');
        } else {
          document.getElementById('navbar').classList.remove('scrolled');
        }
      });

      // Update auth UI based on current user
      updateAuthUI();

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: 'smooth'
            });
          }
        });
      });
    });

    // Handle scroll animations
    function handleScroll() {
      animateOnScroll('.feature-card', 'animated');
      animateOnScroll('.about-text', 'animated');
      animateOnScroll('.about-image', 'animated');
      animateOnScroll('main', 'animated');
    }

    // Animate elements when they come into view
    function animateOnScroll(selector, animationClass) {
      const elements = document.querySelectorAll(selector);
      elements.forEach(element => {
        const elementPosition = element.getBoundingClientRect().top;
        const screenPosition = window.innerHeight / 1.2;
        
        if (elementPosition < screenPosition) {
          element.classList.add(animationClass);
        }
      });
    }

    // Toggle settings panel
    function toggleSettings() {
      document.getElementById('settingsPanel').classList.toggle('active');
      document.getElementById('settingsOverlay').classList.toggle('active');
    }

    // Change language function
    function changeLanguage(lang) {
      currentLanguage = lang;
      localStorage.setItem('languagePreference', lang);
      
      // Update all elements with translation keys
      document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
          element.textContent = translations[lang][key];
        } else if (translations['en'][key]) {
          element.textContent = translations['en'][key];
        }
      });
      
      // Update select options
      document.querySelectorAll('option[data-key]').forEach(option => {
        const key = option.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
          option.textContent = translations[lang][key];
        } else if (translations['en'][key]) {
          option.textContent = translations['en'][key];
        }
      });
    }

    // Save settings
    function saveSettings() {
      const language = document.getElementById('languageSelect').value;
      const theme = document.getElementById('themeSelect').value;
      const fontSize = document.getElementById('fontSize').value;
      const notifications = document.getElementById('notifications').checked;
      const notificationSound = document.getElementById('notificationSound').checked;
      
      // Save to localStorage
      localStorage.setItem('languagePreference', language);
      localStorage.setItem('themePreference', theme);
      localStorage.setItem('fontSizePreference', fontSize);
      localStorage.setItem('notificationsEnabled', notifications);
      localStorage.setItem('notificationSoundEnabled', notificationSound);
      
      // Apply changes
      changeLanguage(language);
      applyTheme(theme);
      applyFontSize(fontSize);
      
      // Close settings panel
      toggleSettings();
      
      // Show confirmation
      alert(translations[currentLanguage]?.settingsSaved || translations['en'].settingsSaved);
    }

    // Apply theme
    function applyTheme(theme) {
      // This would change the theme in a real implementation
      console.log('Theme changed to:', theme);
    }

    // Apply font size
    function applyFontSize(size) {
      // This would change font sizes in a real implementation
      console.log('Font size changed to:', size);
    }

    // Auth Modal Functions
    function showAuthModal(mode) {
      authMode = mode;
      const modal = document.getElementById('authModal');
      const title = document.getElementById('authTitle');
      const submitBtn = document.getElementById('authSubmitBtn');
      const nameField = document.getElementById('nameField');
      const confirmField = document.getElementById('confirmPasswordField');
      const switchText = document.getElementById('authSwitchText');
      const switchLink = document.getElementById('authSwitchLink');

      if (mode === 'login') {
        title.textContent = translations[currentLanguage]?.login || translations['en'].login;
        submitBtn.textContent = translations[currentLanguage]?.login || translations['en'].login;
        nameField.style.display = 'none';
        confirmField.style.display = 'none';
        switchText.textContent = translations[currentLanguage]?.noAccount || translations['en'].noAccount;
        switchLink.textContent = translations[currentLanguage]?.signup || translations['en'].signup;
      } else {
        title.textContent = translations[currentLanguage]?.signup || translations['en'].signup;
        submitBtn.textContent = translations[currentLanguage]?.signup || translations['en'].signup;
        nameField.style.display = 'block';
        confirmField.style.display = 'block';
        switchText.textContent = translations[currentLanguage]?.hasAccount || "Already have an account?";
        switchLink.textContent = translations[currentLanguage]?.login || translations['en'].login;
      }

      modal.classList.add('active');
    }

    function hideAuthModal() {
      document.getElementById('authModal').classList.remove('active');
      document.getElementById('authForm').reset();
    }

    function switchAuthMode() {
      hideAuthModal();
      showAuthModal(authMode === 'login' ? 'signup' : 'login');
    }

    function handleAuthSubmit(event) {
      event.preventDefault();
      
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      if (authMode === 'signup') {
        const name = document.getElementById('name').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        
        if (password !== confirmPassword) {
          alert(translations[currentLanguage]?.passwordMismatch || "Passwords don't match!");
          return;
        }
        
        signUp(name, email, password);
      } else {
        login(email, password);
      }
    }

    function signUp(name, email, password) {
      const users = JSON.parse(localStorage.getItem('users')) || [];
      const userExists = users.some(user => user.email === email);
      
      if (userExists) {
        alert(translations[currentLanguage]?.userExists || "User with this email already exists!");
        return;
      }
      
      const newUser = {
        id: Date.now().toString(),
        name,
        email,
        password
      };
      
      users.push(newUser);
      localStorage.setItem('users', JSON.stringify(users));
      
      currentUser = newUser;
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
      
      updateAuthUI();
      hideAuthModal();
      alert(translations[currentLanguage]?.signupSuccess || "Account created successfully!");
    }

    function login(email, password) {
      const users = JSON.parse(localStorage.getItem('users')) || [];
      const user = users.find(user => user.email === email && user.password === password);
      
      if (!user) {
        alert(translations[currentLanguage]?.invalidCredentials || "Invalid email or password!");
        return;
      }
      
      currentUser = user;
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
      
      updateAuthUI();
      hideAuthModal();
      alert(translations[currentLanguage]?.loginSuccess || "Login successful!");
    }

    function logout() {
      currentUser = null;
      localStorage.removeItem('currentUser');
      updateAuthUI();
      alert(translations[currentLanguage]?.logoutSuccess || "Logged out successfully!");
    }

    function updateAuthUI() {
      const authButtons = document.getElementById('authButtons');
      const userProfile = document.getElementById('userProfile');
      const userName = document.getElementById('userName');
      const userAvatar = document.getElementById('userAvatar');
      
      if (currentUser) {
        authButtons.style.display = 'none';
        userProfile.style.display = 'flex';
        userName.textContent = currentUser.name;
        userAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
        
        // Add logout functionality to avatar
        userAvatar.onclick = logout;
        userName.onclick = logout;
      } else {
        authButtons.style.display = 'flex';
        userProfile.style.display = 'none';
      }
    }

    // Location modal functions
    function showLocationModal() {
      document.getElementById('locationModal').classList.add('active');
    }

    function hideLocationModal() {
      document.getElementById('locationModal').classList.remove('active');
    }

    function generatePersonalizedChart() {
      const state = document.getElementById('state').value;
      const district = document.getElementById('district').value;
      const soilType = document.getElementById('soilType').value;
      const mainCrop = document.getElementById('mainCrop').value;
      
      if (!state || !district || !soilType || !mainCrop) {
        alert(translations[currentLanguage]?.fillAllFields || "Please fill all fields");
        return;
      }
      
      hideLocationModal();
      showPersonalizedChart(state, district, soilType, mainCrop);
    }

    function showPersonalizedChart(state, district, soilType, mainCrop) {
      const output = document.getElementById('chartOutput');
      output.innerHTML = translations[currentLanguage]?.generatingCalendar || "Generating personalized crop calendar...";
      
      setTimeout(() => {
        output.innerHTML = `
          <h3>${translations[currentLanguage]?.personalizedFor || "Personalized for"} ${district}, ${state}</h3>
          <div style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 15px;">
            <div style="flex: 1; min-width: 200px; background: rgba(129, 199, 132, 0.2); padding: 15px; border-radius: 8px;">
              <h4 style="margin-bottom: 10px; color: var(--primary-dark);">${translations[currentLanguage]?.soilType || "Soil Type"}: ${translations[currentLanguage]?.[soilType] || soilType}</h4>
              <p>${translations[currentLanguage]?.soilRecommendations || "Recommended soil preparation and fertilization schedule based on your soil type."}</p>
            </div>
            <div style="flex: 1; min-width: 200px; background: rgba(129, 199, 132, 0.2); padding: 15px; border-radius: 8px;">
              <h4 style="margin-bottom: 10px; color: var(--primary-dark);">${translations[currentLanguage]?.mainCrop || "Main Crop"}: ${translations[currentLanguage]?.[mainCrop] || mainCrop}</h4>
              <p>${translations[currentLanguage]?.cropSchedule || "Optimal planting and harvesting dates for your selected crop."}</p>
            </div>
          </div>
          
          <div style="margin-top: 20px;">
            <h4 style="color: var(--primary-dark);">${translations[currentLanguage]?.monthlyActivities || "Monthly Activities"}</h4>
            <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
              <thead>
                <tr style="background: var(--primary); color: white;">
                  <th style="padding: 10px; text-align: left;">${translations[currentLanguage]?.month || "Month"}</th>
                  <th style="padding: 10px; text-align: left;">${translations[currentLanguage]?.activities || "Activities"}</th>
                </tr>
              </thead>
              <tbody>
                <tr style="border-bottom: 1px solid #eee;">
                  <td style="padding: 10px;">${translations[currentLanguage]?.january || "January"}</td>
                  <td style="padding: 10px;">${translations[currentLanguage]?.janActivity || "Soil preparation, early sowing for some crops"}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                  <td style="padding: 10px;">${translations[currentLanguage]?.febMarch || "February-March"}</td>
                  <td style="padding: 10px;">${translations[currentLanguage]?.febActivity || "Main sowing season, irrigation scheduling"}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                  <td style="padding: 10px;">${translations[currentLanguage]?.aprilMay || "April-May"}</td>
                  <td style="padding: 10px;">${translations[currentLanguage]?.aprActivity || "Fertilizer application, pest monitoring"}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                  <td style="padding: 10px;">${translations[currentLanguage]?.juneJuly || "June-July"}</td>
                  <td style="padding: 10px;">${translations[currentLanguage]?.junActivity || "Kharif season planting, monsoon preparation"}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                  <td style="padding: 10px;">${translations[currentLanguage]?.augSept || "August-September"}</td>
                  <td style="padding: 10px;">${translations[currentLanguage]?.augActivity || "Mid-season corrections, disease prevention"}</td>
                </tr>
                <tr>
                  <td style="padding: 10px;">${translations[currentLanguage]?.octDec || "October-December"}</td>
                  <td style="padding: 10px;">${translations[currentLanguage]?.octActivity || "Harvesting, post-harvest management"}</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div style="margin-top: 20px; background: rgba(255, 152, 0, 0.1); padding: 15px; border-radius: 8px;">
            <h4 style="color: var(--secondary); margin-bottom: 10px;">${translations[currentLanguage]?.costInfo || "Cost & Growth Information"} ${translations[currentLanguage]?.for || "for"} ${translations[currentLanguage]?.[mainCrop] || mainCrop}</h4>
            <div style="display: flex; flex-wrap: wrap; gap: 15px;">
              <div style="flex: 1; min-width: 200px;">
                <p><strong>${translations[currentLanguage]?.seedingCost || "Seeding Cost"}:</strong> ₹${Math.floor(Math.random() * 5000) + 2000} ${translations[currentLanguage]?.perAcre || "per acre"}</p>
                <p><strong>${translations[currentLanguage]?.fertilizerCost || "Fertilizer Cost"}:</strong> ₹${Math.floor(Math.random() * 3000) + 1000} ${translations[currentLanguage]?.perAcre || "per acre"}</p>
                <p><strong>${translations[currentLanguage]?.laborCost || "Labor Cost"}:</strong> ₹${Math.floor(Math.random() * 4000) + 2000} ${translations[currentLanguage]?.perAcre || "per acre"}</p>
              </div>
              <div style="flex: 1; min-width: 200px;">
                <p><strong>${translations[currentLanguage]?.growthDuration || "Growth Duration"}:</strong> ${Math.floor(Math.random() * 6) + 3} ${translations[currentLanguage]?.months || "months"}</p>
                <p><strong>${translations[currentLanguage]?.expectedYield || "Expected Yield"}:</strong> ${Math.floor(Math.random() * 20) + 10} ${translations[currentLanguage]?.quintals || "quintals"} ${translations[currentLanguage]?.perAcre || "per acre"}</p>
                <p><strong>${translations[currentLanguage]?.bestPrice || "Best Market Price"}:</strong> ₹${Math.floor(Math.random() * 5000) + 2000} ${translations[currentLanguage]?.perQuintal || "per quintal"}</p>
              </div>
            </div>
          </div>
          
          <p style="margin-top: 15px; font-size: 0.9em;">
            <i class="fas fa-info-circle" style="color: var(--secondary);"></i> 
            ${translations[currentLanguage]?.calendarNote || "This calendar is generated based on your location and soil type. For exact dates, consult local agricultural experts."}
          </p>
        `;
      }, 1000);
    }

    // Original app functions (unchanged from previous versions)
    async function getMandiRates() {
      const output = document.getElementById('mandiOutput');
      output.innerHTML = translations[currentLanguage]?.loadingMandi || "Loading mandi rates...";
      output.classList.add('loading');
      
      setTimeout(() => {
        output.innerHTML = `
          <h3>${translations[currentLanguage]?.todaysRates || "Today's Mandi Rates"} (₹ ${translations[currentLanguage]?.perQuintal || "per quintal"})</h3>
          <ul style="margin-top: 10px;">
            <li>${translations[currentLanguage]?.wheat || "Wheat"} – ₹2100-2300</li>
            <li>${translations[currentLanguage]?.gram || "Gram"} – ₹5000-5200</li>
            <li>${translations[currentLanguage]?.soybean || "Soybean"} – ₹4200-4500</li>
            <li>${translations[currentLanguage]?.rice || "Rice"} – ₹1800-2000</li>
          </ul>
          <p style="margin-top: 10px; font-size: 0.9em; color: #666;">
            ${translations[currentLanguage]?.lastUpdated || "Last updated"}: ${new Date().toLocaleString()}
          </p>
        `;
        output.classList.remove('loading');
      }, 1000);
    }

    async function getWeatherForecast() {
      const output = document.getElementById('weatherOutput');
      output.innerHTML = translations[currentLanguage]?.fetchingWeather || "Fetching weather data...";
      output.classList.add('loading');
      
      try {
        setTimeout(() => {
          output.innerHTML = `
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
              <i class="fas fa-map-marker-alt" style="color: var(--primary);"></i>
              <h3 style="margin: 0;">Bhopal, ${translations[currentLanguage]?.madhyapradesh || "Madhya Pradesh"}</h3>
            </div>
            <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 15px;">
              <div style="flex: 1; min-width: 120px;">
                <p style="font-size: 0.9em; color: #666;">${translations[currentLanguage]?.current || "Current"}</p>
                <p style="font-size: 1.5em; font-weight: 500;">28°C</p>
                <p style="font-size: 0.9em;">${translations[currentLanguage]?.partlyCloudy || "Partly Cloudy"}</p>
              </div>
              <div style="flex: 1; min-width: 120px;">
                <p style="font-size: 0.9em; color: #666;">${translations[currentLanguage]?.humidity || "Humidity"}</p>
                <p style="font-size: 1.5em; font-weight: 500;">65%</p>
              </div>
              <div style="flex: 1; min-width: 120px;">
                <p style="font-size: 0.9em; color: #666;">${translations[currentLanguage]?.rainChance || "Rain Chance"}</p>
                <p style="font-size: 1.5em; font-weight: 500;">30%</p>
              </div>
            </div>
            <p style="margin-top: 15px; font-size: 0.9em;">
              <i class="fas fa-info-circle" style="color: var(--secondary);"></i> 
              ${translations[currentLanguage]?.noAlerts || "No extreme weather alerts for your area."}
            </p>
          `;
          output.classList.remove('loading');
        }, 1000);
      } catch (error) {
        output.innerHTML = translations[currentLanguage]?.weatherFailed || "Failed to fetch weather forecast.";
        output.classList.remove('loading');
      }
    }

    function startVoiceAssistant() {
      const output = document.getElementById('voiceOutput');
      output.innerHTML = translations[currentLanguage]?.listening || "Listening...";
      
      if (!('webkitSpeechRecognition' in window)) {
        output.innerHTML = translations[currentLanguage]?.voiceNotSupported || "Voice recognition not supported in your browser.";
        return;
      }
      
      const recognition = new webkitSpeechRecognition();
      recognition.lang = currentLanguage === 'hi' ? 'hi-IN' : 'en-IN';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      
      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        output.innerHTML = `
          <p><strong>${translations[currentLanguage]?.youSaid || "You said"}:</strong> "${transcript}"</p>
          <p style="margin-top: 10px;"><strong>${translations[currentLanguage]?.response || "Response"}:</strong> ${translations[currentLanguage]?.voiceResponse || "This is a simulated response. In a real app, we would process your query."}</p>
        `;
      };
      
      recognition.onerror = function(event) {
        output.innerHTML = `${translations[currentLanguage]?.voiceError || "Error occurred"}: ${event.error}`;
      };
      
      recognition.start();
    }

    function showSmartAlerts() {
      const output = document.getElementById('alertsOutput');
      output.innerHTML = translations[currentLanguage]?.checkingAlerts || "Checking smart alerts...";
      
      setTimeout(() => {
        output.innerHTML = `
          <div style="display: flex; align-items: flex-start; gap: 10px;">
            <div style="color: #d32f2f; font-size: 1.5em;">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div>
              <h3 style="margin: 0 0 10px 0; color: #d32f2f;">${translations[currentLanguage]?.pestAlert || "Pest Alert"}</h3>
              <p>${translations[currentLanguage]?.pestWarning || "High probability of Helicoverpa armigera (American Bollworm) infestation in your area this week due to recent weather conditions."}</p>
            </div>
          </div>
          <div style="margin-top: 15px; background: rgba(255, 152, 0, 0.1); padding: 15px; border-radius: 8px;">
            <h4 style="margin: 0 0 10px 0; color: var(--secondary);">${translations[currentLanguage]?.recommendedAction || "Recommended Action"}</h4>
            <ul style="padding-left: 20px;">
              <li>${translations[currentLanguage]?.action1 || "Spray neem-based pesticide (5% concentration)"}</li>
              <li>${translations[currentLanguage]?.action2 || "Monitor crops daily for eggs on leaves"}</li>
              <li>${translations[currentLanguage]?.action3 || "Use pheromone traps for early detection"}</li>
            </ul>
          </div>
        `;
      }, 1000);
    }

    function analyzeDisease(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        const img = document.getElementById('preview');
        img.src = e.target.result;
        img.style.display = 'block';
        
        const diseaseResult = document.getElementById('diseaseResult');
        diseaseResult.style.display = 'block';
        diseaseResult.innerHTML = `
          <div style="text-align: center; padding: 20px;">
            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary);"></i>
            <p style="margin-top: 10px;">${translations[currentLanguage]?.analyzingPlant || "Analyzing plant health..."}</p>
          </div>
        `;
        
        setTimeout(() => {
          displayDiseaseResult(file);
        }, 2000);
      };
      reader.readAsDataURL(file);
    }

    function displayDiseaseResult(file) {
      const diseases = [
        {
          name: translations[currentLanguage]?.leafRust || "Leaf Rust",
          scientificName: "Puccinia triticina",
          confidence: "92%",
          description: translations[currentLanguage]?.rustDesc || "Leaf rust appears as small, circular to oval orange-brown pustules on the upper leaf surface. The disease can cause significant yield loss if not controlled.",
          solution: translations[currentLanguage]?.rustSolution || "Apply fungicides containing triazoles or strobilurins. Remove infected plant debris after harvest. Plant resistant varieties if available.",
          severity: translations[currentLanguage]?.high || "High",
          affectedCrops: translations[currentLanguage]?.wheatBarley || "Wheat, Barley"
        },
        {
          name: translations[currentLanguage]?.powderyMildew || "Powdery Mildew",
          scientificName: "Blumeria graminis",
          confidence: "87%",
          description: translations[currentLanguage]?.mildewDesc || "White powdery spots appear on leaves and stems, which may turn yellow and die. The disease thrives in humid conditions with moderate temperatures.",
          solution: translations[currentLanguage]?.mildewSolution || "Apply sulfur-based fungicides. Improve air circulation around plants. Avoid overhead irrigation. Plant resistant varieties.",
          severity: translations[currentLanguage]?.medium || "Medium",
          affectedCrops: translations[currentLanguage]?.wheatBarleyPeas || "Wheat, Barley, Peas"
        },
        {
          name: translations[currentLanguage]?.bacterialBlight || "Bacterial Blight",
          scientificName: "Xanthomonas oryzae",
          confidence: "78%",
          description: translations[currentLanguage]?.blightDesc || "Water-soaked lesions that turn yellow and then white or gray. Lesions may have a yellow halo and often appear on leaf tips or edges.",
          solution: translations[currentLanguage]?.blightSolution || "Use disease-free seeds. Apply copper-based bactericides. Avoid working in fields when plants are wet. Practice crop rotation.",
          severity: translations[currentLanguage]?.high || "High",
          affectedCrops: translations[currentLanguage]?.rice || "Rice"
        }
      ];
      
      const detectedDisease = diseases[Math.floor(Math.random() * diseases.length)];
      
      const diseaseResult = document.getElementById('diseaseResult');
      diseaseResult.innerHTML = `
        <h3>${translations[currentLanguage]?.diseaseResult || "Disease Detection Result"}</h3>
        <div class="disease-info">
          <div class="disease-image">
            <img src="${URL.createObjectURL(file)}" alt="${translations[currentLanguage]?.affectedLeaf || "Affected leaf"}">
          </div>
          <div class="disease-details">
            <p><strong>${translations[currentLanguage]?.detectedDisease || "Detected Disease"}:</strong> ${detectedDisease.name}</p>
            <p><strong>${translations[currentLanguage]?.scientificName || "Scientific Name"}:</strong> <em>${detectedDisease.scientificName}</em></p>
            <p><strong>${translations[currentLanguage]?.confidence || "Confidence Level"}:</strong> ${detectedDisease.confidence}</p>
            <p><strong>${translations[currentLanguage]?.severity || "Severity"}:</strong> ${detectedDisease.severity}</p>
            <p><strong>${translations[currentLanguage]?.description || "Description"}:</strong> ${detectedDisease.description}</p>
          </div>
        </div>
        <div class="disease-solution">
          <h4>${translations[currentLanguage]?.recommendedSolution || "Recommended Solution"}</h4>
          <p>${detectedDisease.solution}</p>
        </div>
        <button class="btn-primary" style="margin-top: 15px; width: auto;" onclick="showMoreDiseaseInfo('${detectedDisease.name}')">
          <i class="fas fa-book"></i> ${translations[currentLanguage]?.learnMore || "Learn More"} ${detectedDisease.name}
        </button>
      `;
    }

    function showMoreDiseaseInfo(diseaseName) {
      alert(`${translations[currentLanguage]?.diseaseInfo || "In a full implementation, this would show detailed information about"} ${diseaseName}`);
    }
  </script>
</body>
</html>